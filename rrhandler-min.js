/*
* MIT Licensed
* Copyright (c) 2012, Priit Pirita, atirip@yahoo.com
* https://github.com/atirip/rrhandler.js
*/
;(function(a,b){var c=function(){function l(c){var e,d=this,i=function(){d.resize.call(d)},j=function(){return b.is.mobile?i:h(g,i)}();this.setBody=!0,this.first=!0,c=c||{};for(e in c)c.hasOwnProperty(e)&&(this[e]=c[e]);void 0!==c.throttleDuringResize&&(f=c.throttleDuringResize),void 0!==c.throttleInterval&&(g=c.throttleInterval),!b.is.mobile&&(this.setBody=!1),this.initial={orientation:this.getOrientation(),width:a.innerWidth},a.addEventListener?a.addEventListener(b.events.resize,j,!1):a.attachEvent&&a.attachEvent("onresize",j),this.resize()}var i,j,c=a.document,d=c.body,e=Array.prototype.slice,f=!0,g=200,h=function(a,b){var c=null,d=null;return function(){var g=this,h=e.call(arguments,0),i=function(){b.apply(g,h),c=null},j=function(){if(f){var e=new Date;e-c>a&&(c=e,b.apply(g,h))}d&&clearTimeout(d),d=setTimeout(i,a)};setTimeout(j,10)}},k=c.createElement("div");return k.setAttribute("data-test","t"),k.getAttribute("data-test")!=="t"?(i=function(a,b,d){var e=a.getAttributeNode(b);e||(e=c.createAttribute(b),a.setAttributeNode(e)),e.nodeValue=d+""},j=function(a,b){var c=a.getAttributeNode(b);return c.nodeValue}):(i=function(a,b,c){a.setAttribute(b,c)},j=function(a,b){return a.getAttribute(b)}),l.prototype={getOrientation:function(){return void 0!==a.orientation?a.orientation%180===0?"portrait":"landscape":a.innerHeight>a.innerWidth?"portrait":"landscape"},resize:function(){var c=this,e=this.getOrientation(),f=0,g=function g(){f++,f>100||c.initial.orientation===e&&c.initial.width===a.innerWidth||c.initial.orientation!==e&&c.initial.width!==a.innerWidth?(c.setBody&&(d.style.minHeight=(b.is.android?a.outerHeight/a.devicePixelRatio:a.innerHeight)+"px"),c.callback&&c.callback.call(c.context||a,c.first,e),c.first=!1):setTimeout(g,10)};d&&(this.setBody&&(b.is.android?a.outerHeight/a.devicePixelRatio>d.offsetHeight&&(d.style.minHeight=a.outerHeight/a.devicePixelRatio+"px"):b.is.ios&&screen.availHeight>d.offsetHeight&&(d.style.minHeight=screen.availHeight+"px")),setTimeout(function(){0===d.scrollTop&&(d.scrollTop=b.is.android?1:0),g()},100))}},l}();b.rrhandler=c})(window,window.atirip||(window.atirip={}))